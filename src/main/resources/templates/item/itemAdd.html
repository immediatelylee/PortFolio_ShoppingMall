<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout3-item}">
<th:block layout:fragment="css">
    <style>
        /* 전역 box-sizing 설정을 덮어씌우고 싶다면 !important 사용 */
        *,
        *::before,
        *::after {
            box-sizing: content-box !important;
        }
    </style>
</th:block>

<th:block layout:fragment="script">
    <script th:inline="javascript">
        function update_depth(){
            console.log("depth_change_detect")

            // 각 depth 요소 선택
            var $depth1 = $(".txtLight.txtLess.depth1");
            var $depth2 = $(".txtLight.txtLess.depth2");
            var $depth3 = $(".txtLight.txtLess.depth3");

            // if ($depth1.length === 0 ) {
            //     alert("카테고리 값을 선택해야 합니다.");
            //     return;
            // }

            var depth1 = $depth1.text().replace(' >', '');
            var depth2 = $depth2.text().replace(' >', '');
            var depth3 = $depth3.text().replace(' >', '');

            // $("#category").val("ItemCategory." + depth3);  추후에 itemccategory의 enum형태로 변경시에 이방식으로 저장.
            $("#mainCategory").val(depth1);
            $("#subCategory").val(depth2);
            $("#subSubCategory").val(depth3);




            console.log("depth flow test")
            console.log(depth1)
            console.log(depth2)
            console.log(depth3)
        }
    function change_category(message,title) {
        depthjudge = message.split('__')
        console.log("flow test")
        console.log(message)
    let selDepth1;
    let selDepth2;
    let selDepth3;
    if (depthjudge[0] == 'D_1' ) {
        console.log("title test-1")
        selDepth1 = title;
    }

    else if (depthjudge[0] == 'D_2A' || depthjudge[0] == 'D_2B' || depthjudge[0] == 'D_2C' ){
        selDepth2 = title;
        console.log("title test-2")
        console.log(selDepth2)
    }
    // TODO 지금은 예외처리도 안한 스크립트이지만 나중에 더 좋은 방법이 있으면 개선할 것. selDepth3를 지정하는 데 너무나 많은 or문이 추가되기 때문에 else로 하였음.
    else {
        console.log("title test-3")
        selDepth3 = title;
    }
    // 중분류,소분류 전체 hide()
    function Depth2_andDepth3Hide(){
        $("._A_childs , ._B_childs, ._C_childs, ._A_childs_0, ._A_childs_1, ._A_childs_2, ._A_childs_3, ._A_childs_4, ._A_childs_5, ._B_childs_0, ._B_childs_1, ._B_childs_2, ._B_childs_3, ._B_childs_4, ._C_childs_0, ._C_childs_1").hide();
    }
        switch (message) {
        // depth1은 대분류
            // 패션의류/잡화 클릭 했을 경우
            case "D_1__0":
                // 전부 hide()
                Depth2_andDepth3Hide();
                // 선택된 depth의 자식노드만 show
                $("._A_childs").show();

                $(".txtLight.txtLess.depth1").html(selDepth1 + ' > ')

                $(".txtLight.txtLess.depth1").show();
                $(".txtLight.txtLess.depth2").hide();
                $(".txtLight.txtLess.depth3").hide();
                $("._product_category_checked").show();
                break;
            // 식품 클릭시
            case "D_1__1":
                // 전부 hide()
                Depth2_andDepth3Hide();
                // 선택된 depth의 자식노드만 show
                $("._B_childs").show();

                $(".txtLight.txtLess.depth1").html(selDepth1 + ' > ')
                $(".txtLight.txtLess.depth1").show();
                $(".txtLight.txtLess.depth2").hide();
                $(".txtLight.txtLess.depth3").hide();
                $("._product_category_checked").show();
                break;
            // 가전/디지털 클릭시
            case "D_1__2":
                // 전부 hide()
                Depth2_andDepth3Hide();
                // 선택된 depth의 자식노드만 show
                $("._C_childs").show();

                $(".txtLight.txtLess.depth1").html(selDepth1 + ' > ')
                $(".txtLight.txtLess.depth1").show();
                $(".txtLight.txtLess.depth2").hide();
                $(".txtLight.txtLess.depth3").hide();
                $("._product_category_checked").show();
                break;
            // 패션의류/잡화 -> 남성
            case "D_2A__0":
                Depth2_andDepth3Hide()
                $("._A_childs,._A_childs_0").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            // 패션의류/잡화 여성
            case "D_2A__1":
                Depth2_andDepth3Hide();
                $("._A_childs,._A_childs_1").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            // 패션의류/잡화 남녀공용
            case "D_2A__2":
                Depth2_andDepth3Hide();
                $("._A_childs,._A_childs_2").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            // 패션의류/잡화 가방/잡화
            case "D_2A__3":
                Depth2_andDepth3Hide();
                $("._A_childs,._A_childs_3").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            // 패션의류/잡화 신발
            case "D_2A__4":
                Depth2_andDepth3Hide();
                $("._A_childs,._A_childs_4").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;

            // 패션의류/잡화 아동
            case "D_2A__5":
                Depth2_andDepth3Hide();
                $("._A_childs,._A_childs_5").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            // 식품의 모든 노드는 depth2밖에 없으므로 중분류가 끝이다.
            case "D_2B__0":
                Depth2_andDepth3Hide();
                $("._B_childs,._B_childs_0").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            case "D_2B__1":
                Depth2_andDepth3Hide();
                $("._B_childs,._B_childs_1").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            case "D_2B__2":
                Depth2_andDepth3Hide();
                $("._B_childs,._B_childs_2").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            case "D_2B__3":
                Depth2_andDepth3Hide();
                $("._B_childs,._B_childs_3").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            case "D_2B__4":
                Depth2_andDepth3Hide();
                $("._B_childs,._B_childs_4").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            case "D_2C__0":
                Depth2_andDepth3Hide();
                $("._C_childs,._C_childs_0").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            // 컴퓨터/게임/SW는 자식이 없음.
            case "D_2C__1":
                Depth2_andDepth3Hide();
                $("._C_childs,._C_childs_1").show();

                $(".txtLight.txtLess.depth2").html(selDepth2 + ' > ')
                $(".txtLight.txtLess.depth2").show();
                $(".txtLight.txtLess.depth3").hide();
                break;
            //A0-5개 //A1-7개 //A2-2개 //A3-7개 //A4-5개 // B는 없고 C0만 2개
            case "D_3A0__0":
            case "D_3A0__1":
            case "D_3A0__2":
            case "D_3A0__3":
            case "D_3A0__4":
            case "D_3A1__0":
            case "D_3A1__1":
            case "D_3A1__2":
            case "D_3A1__3":
            case "D_3A1__4":
            case "D_3A1__5":
            case "D_3A1__6":
            case "D_3A2__0":
            case "D_3A2__1":
            case "D_3A3__0":
            case "D_3A3__1":
            case "D_3A3__2":
            case "D_3A3__3":
            case "D_3A3__4":
            case "D_3A3__5":
            case "D_3A3__6":
            case "D_3A4__0":
            case "D_3A4__1":
            case "D_3A4__2":
            case "D_3A4__3":
            case "D_3A4__4":
            case "D_3A5__0":
            case "D_3A5__1":
            case "D_3C0__0":
            case "D_3C0__1":
                $(".txtLight.txtLess.depth3").html(selDepth3 + ' > ')
                $(".txtLight.txtLess.depth3").show();

                break;
        }
    }

        $(document).ready(function() {
            // 페이지 로드 시, hidden input의 값을 가져와서 depth 요소에 설정
            var mainCategory = $("#mainCategory").val();
            var subCategory = $("#subCategory").val();
            var subSubCategory = $("#subSubCategory").val();

            var hasValues = false;

            if (mainCategory) {
                $(".txtLight.txtLess.depth1").text(mainCategory + " >");
                hasValues = true;
            }
            if (subCategory) {
                $(".txtLight.txtLess.depth2").text(subCategory + " >");
                hasValues = true;
            }
            if (subSubCategory) {
                $(".txtLight.txtLess.depth3").text(subSubCategory);
                hasValues = true;
            }

            // hidden input에 값이 있으면 display:none 속성을 제거
            if (hasValues) {
                $("._product_category_checked").removeAttr("style");
            }
        });

    </script>
</th:block>
<div layout:fragment="content">
    <div id="content">
        <div class="headingArea">
            <div class="mTitle">
                <h1>상품 등록</h1>

            </div>
        </div>

        <form id="eProductRegisterForm" role="form" method="post" enctype="multipart/form-data"  th:object="${itemFormDto}" onsubmit="update_depth()" >

            <div id="QA_register1" class="section">
                <div class="mToggleBar eToggle selected">
                    <h2>기본 정보</h2>
                    <div class="ctrl">

                    </div>
                </div>
                <div class="toggleArea" style="display: block;">
                    <div class="mBoard gSmall gDouble gGuide">
                        <table border="1" summary="">
                            <caption>간단 등록</caption>
                            <tbody>
                            <tr>
                                <th scope="row">상품명 <strong class="icoRequired">필수</strong></th>
                                <td>
                                    <div class="gIcoShop">

                                        <div class="overlapTip">
                                            <input type="text" name="itemNm" th:field="*{itemNm}" id="product_name" placeholder="예시) 플라워 미니 원피스, 원피스 1위상품" class="fText" fw-filter="isFill&amp;isMaxByte[250]" fw-label="상품명" style="width:340px;">

                                                <span class="edge"></span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">상품요약설명</th>
                                <td>
                                    <div class="gIcoShop">

                                        <input type="text" class="fText" th:field="*{itemDetail}" style="width:98%;" name="summary_desc" placeholder="예시) 주문폭주!! 페미닌한 원피스 Free, L, XL까지~~" value="" fw-filter="isMaxByte[120]" fw-label="상품요약설명">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">상품상세설명</th>
                                <td>
                                    <div class="gIcoShop">

                                        <div class="mTab typeTab">
                                            <ul class="tabs">
                                                <li class="selected" id="eTabNnedit"><a href="#tabCont1_2" id="nnedit">상세설명 이미지 등록</a></li>

                                            </ul>
                                        </div>

                                        <div id="tabCont1_2" class="tabCont" style="display: block;">
                                            <div class="gEditor">
                                                <input type="file" multiple name="itemDetailImgFile"  class="btnNormal imageupload" imagekey="d_image">
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>


                <div id="QA_register2" class="section">
                    <div class="mToggleBar eToggle selected">
                        <h2>판매 정보</h2>
                        <div class="ctrl">

                        </div>
                    </div>
                    <div class="toggleArea" style="display:block;">
                        <div class="mBoard gSmall gGuide">
                            <table border="1" summary="">
                                <caption>판매 정보</caption>
                                <tbody>
                                <tr>
                                    <th scope="row">판매가 <strong class="icoRequired">필수</strong></th>
                                    <td>
                                        <div class="gIcoShop">

                                            <input type="text" th:field="*{price}" id="product_price" name="product_price[1]" class="fText ePrdPrice" shop_no="1" placeholder="예시) 38,000" fw-filter="isFill&amp;isPrice" fw-label="판매가" style="width:100px;"> 원                                                    </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th >상품 재고 </th>
                                    <td>
                                        <div>
                                        <input type="text" th:field="*{stockNumber}"  name="stockNumber" class="fText ePrdPrice" shop_no="1" placeholder="예시) 1,000"  style="width:100px;"> 개
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>브랜드 </th>
                                    <td>

                                        <select class="fSelect" th:name="brandId" th:field="*{brandId}" id="brands" style="width:100px;">
                                            <option th:each="brand : ${brands}"
                                                    th:value="${brand.getId()}"
                                                    th:text="${brand.getBrandNm()}"
                                            >
                                            </option>
                                        </select>
                                        <a href="#mLayerBrand" class="btnNormal eModal"><span>등록</span></a>
                                    </td>

                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="QA_register3" class="section">
                    <div class="mToggleBar eToggle selected">
                        <h2>표시 설정</h2>

                    </div>
                    <div class="toggleArea" style="display:block;">
                        <div class="mBoard gSmall gGuide">
                            <table border="1" summary="">
                                <caption>표시 설정</caption>
                                <tbody>
                                <tr>
                                    <th scope="row" rowspan="2">표시상태설정</th>
                                    <td>
                                        <div class="gIcoShop">
                                            <label class="gLabel">
                                                <input type="radio" th:field="*{itemDisplayStatus}" th:value="DISPLAY"  class="form-check-input" name="itemDisplayStatus">
<!--                                                <input type="radio" name="is_display[1]" class="fChk" value="T"> -->
                                                진열함</label>
                                            <label class="gLabel eSelected">
                                                <input type="radio" th:field="*{itemDisplayStatus}" th:value="NOT_DISPLAY"  class="form-check-input" name="itemDisplayStatus">
<!--                                                <input type="radio" name="is_display[1]" class="fChk" value="F" checked="checked">-->
                                                진열안함</label>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <div class="gIcoShop">

                                            <label class="gLabel">
                                                <input type="radio" th:field="*{itemSellStatus}" th:value="SELL"  class="form-check-input" name="itemSellStatus">
<!--                                                <input type="radio" name="selling_status[1]" class="fChk" value="T">-->
                                                판매함</label>
                                            <label class="gLabel eSelected">
                                                <input type="radio" th:field="*{itemSellStatus}" th:value="SOLD_OUT"  class="form-check-input" name="itemSellStatus">
<!--                                                <input type="radio" name="selling_status[1]" class="fChk" value="F" checked="checked">-->
                                                판매안함</label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">상품분류선택</th>
                                    <td>

                                        <div class="mSearchSelect typeCategory gDouble">
                                            <table border="1" summary="">
                                                <caption>분류</caption>
                                                <colgroup>
                                                    <col style="width:25%" span="4">
                                                </colgroup>
                                                <thead>
                                                <tr>
                                                    <th scope="col" class="center">대분류</th>
                                                    <th scope="col" class="center">중분류</th>
                                                    <th scope="col" class="center">소분류</th>
                                                    <th scope="col" class="center">상세분류</th>
                                                </tr>
                                                </thead>
                                                <tbody class="_category_select_body">

<!--                                                onclick은 카테고리 표시, 선택된 상품 분류에 대한 처리-->
                                                <tr>
                                                    <td>
                                                        <div class="list ">
                                                            <!--대분류-->
                                                            <ul  class="_ABC" style="padding: 1px 11px 0px;">
                                                                <th:block th:each = "category1 : ${depth1}">
                                                                <li th:text ="${category1.title}" th:data-index="${category1Stat.index}" th:data-title="${category1.title}"
                                                                    th:onclick="|javascript:change_category('D_1__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|"></li>

                                                                 </th:block>
                                                            </ul>

                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="list">
                                                            <!--중분류-->
                                                            <ul  class="_A_childs" style="display: none" >
                                                                <th:block th:each = "category2A : ${depth1.get(0).getChildCategories()}">
                                                                <li th:text="${category2A.title}" th:data-index="${category2AStat.index}" th:data-title="${category2A.title}"
                                                                    th:onclick="|javascript:change_category('D_2A__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <!-- 식품의 자식은 모두 depth2.  depth3 소분류가 없음-->
                                                            <ul class="_B_childs" style="display: none">
                                                                <th:block th:each = "category2B : ${depth1.get(1).getChildCategories()}">
                                                                    <li  th:text="${category2B.title}" th:data-index="${category2BStat.index}" th:data-title="${category2B.title}"
                                                                         th:onclick="|javascript:change_category('D_2B__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|") ></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_C_childs" style="display: none">
                                                                <th:block th:each = "category2C : ${depth1.get(2).getChildCategories()}">
                                                                    <li th:text="${category2C.title}" th:data-index="${category2CStat.index}" th:data-title="${category2C.title}"
                                                                        th:onclick="|javascript:change_category('D_2C__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|") ></li>
                                                                </th:block>
                                                            </ul>

                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="list">
                                                            <!--소분류-->
                                                            <!-- MEN_T_SHIRT-->
                                                            <ul class="_A_childs_0" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(0).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A0__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
<!--                                                            // 여기하는중-->
                                                            <ul class="_A_childs_1" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(1).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A1__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_A_childs_2" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(2).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A2__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_A_childs_3" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(3).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A3__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_A_childs_4" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(4).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A4__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_A_childs_5" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(5).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A5__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_B_childs_0" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(6).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3A1__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_B_childs_1" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(7).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3BB__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_B_childs_2" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(8).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3BC__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_B_childs_3" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(9).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3BD__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_B_childs_4" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(10).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3BE__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_C_childs_0" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(11).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3C0__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                            <ul class="_C_childs_1" style="display: none">
                                                                <th:block th:each ="category3 : ${depth2.get(12).getChildCategories()}"  >
                                                                    <li  th:text="${category3.title}" th:data-index="${category3Stat.index}" th:data-title="${category3.title}"
                                                                         th:onclick="|javascript:change_category('D_3CB__'+this.getAttribute('data-index'),this.getAttribute('data-title'))|")></li>
                                                                </th:block>
                                                            </ul>
                                                        </div>
                                                    </td>
                                                    <td>


                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <p class="gDouble">
                                            <span class="icoDot"></span>
                                            <strong class="gWidth wPrdCategory">선택된 상품분류</strong>
                                            <span class="_product_category_none">
                                </span>
                                            <span style="display:none;" class="_product_category_checked">
<!--                                                update_depth()함수에서 마지막에 mainCategory,subCategory,subSubCategory의 value를 추가함-->
                                    <input type="hidden" th:name="mainCategory" id="mainCategory" th:field="*{mainCategory}" class="_selected_category_no" value="" >
                                                <input type="hidden" th:name="subCategory" id="subCategory" th:field="*{subCategory}" class="_selected_category_no" value="" >
                                                <input type="hidden" th:name="subSubCategory" id="subSubCategory" th:field="*{subSubCategory}" class="_selected_category_no" value="" >
                                    <span class="txtLight txtLess depth1" >test</span>
                                                <span class="txtLight txtLess depth2" ></span>
                                                <span class="txtLight txtLess depth3" ></span>

                                    <a href="#none" onclick="update_depth()" class="btnNormal _add_selected_category"><span> 등록</span></a>

                                </span>
                                            <input type="hidden" name="checked_category">
                                        </p>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>


                <div id="QA_register5" class="section">
                    <div class="mToggleBar eToggle selected">
                        <h2>이미지 정보</h2>
                        <div class="ctrl">

                        </div>
                    </div>
                    <div class="toggleArea" style="display:block;">
                        <div class="mBoard gSmall gGuide">
                            <table border="1" summary="">
                                <caption>이미지 정보</caption>
                                <tbody>
                                <tr>
                                    <th scope="row">상품이미지등록</th>
                                    <td>
                                        <div class="gIcoShop">

                                            <div class="gAddInfo">
                                                <div class="gLeft">
                                                    <span class="figure" id="eDetailImage"><a href="#none" style="cursor:default;"><img src="//img.echosting.cafe24.com/thumb/108x108_2.gif" width="108" height="108" alt=""></a></span>
                                                    <span class="figure" id="eListImage" style="display:none;"><a href="#none" style="cursor:default;"><img src="//img.echosting.cafe24.com/thumb/108x108_2.gif" width="108" height="108" alt=""></a></span>
                                                    <span class="figure" id="eTinyImage" style="display:none;"><a href="#none" style="cursor:default;"><img src="//img.echosting.cafe24.com/thumb/108x108_2.gif" width="108" height="108" alt=""></a></span>
                                                    <span class="figure" id="eMainImage" style="display:none;"><a href="#none" style="cursor:default;"><img src="//img.echosting.cafe24.com/thumb/108x108_2.gif" width="108" height="108" alt=""></a></span>
                                                    <span class="button">
                                            <div id="dFlashImageArea" class="btnFlash"><span id="dFlashImageButton"></span></div>
                                            <input type="file" multiple name="itemImgFile" class="btnNormal imageupload" imagekey="d_image">
                                            <a href="#none" class="btnNormal btnImageDelete" style="display:none;"><span> 등록</span></a>

                                        </span>
                                                </div>
                                                <div class="gAdd">
                                                    <ul class="txtInfo register">
                                                        <li class="light">권장이미지 : 500px * 500px / 5M 이하 / gif, png, jpg(jpeg)</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="mButton gCenter">
                    <th:block th:if="${#strings.isEmpty(itemFormDto.id)}">
                        <button th:formaction="@{/admin/item/new}"  method="post" type="submit" class="my-button btn-primary">저장</button>
                    </th:block>
                    <th:block th:unless="${#strings.isEmpty(itemFormDto.id)}">
                        <button th:formaction="@{'/admin/item/management/' + ${itemFormDto.id}}" type="submit" method="post" class="my-button btn-primary">수정</button>
                    </th:block>
                    <a th:href="@{/admin/item/management}" class="my-button btn-outline-secondary">취소</a>
                </div>

            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
        </form>

    </div>
</div>

</html>